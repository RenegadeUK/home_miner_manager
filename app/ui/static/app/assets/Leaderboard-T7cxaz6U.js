import{c as x,r as i,a as N,j as e,g as c,C as l}from"./index-kpQNEHa0.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=x("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=x("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);function w(){const[a,m]=i.useState(90),[t,d]=i.useState(null),{data:s,isLoading:u}=N({queryKey:["leaderboard",a,t],queryFn:async()=>{const r=new URLSearchParams({days:a.toString(),limit:"10"});t&&r.append("coin",t);const o=await fetch(`/api/leaderboard?${r}`);if(!o.ok)throw new Error("Failed to fetch leaderboard");return o.json()},refetchInterval:3e4}),g=r=>{switch(r){case 1:return"ðŸ¥‡";case 2:return"ðŸ¥ˆ";case 3:return"ðŸ¥‰";default:return`#${r}`}},h=r=>{switch(r){case"avalon_nano":return"bg-blue-500/10 text-blue-600 dark:text-blue-400 border border-blue-500/20";case"bitaxe":return"bg-purple-500/10 text-purple-600 dark:text-purple-400 border border-purple-500/20";case"nerdqaxe":return"bg-green-500/10 text-green-600 dark:text-green-400 border border-green-500/20";case"nmminer":return"bg-orange-500/10 text-orange-600 dark:text-orange-400 border border-orange-500/20";default:return"bg-gray-500/10 text-gray-600 dark:text-gray-400 border border-gray-500/20"}},f=r=>r?r.includes("ðŸ’€")||r.includes("Emotional Damage")?"bg-red-500/10 text-red-600 dark:text-red-400 border border-red-500/20":r.includes("ðŸš¨")||r.includes("Pain")?"bg-orange-500/10 text-orange-600 dark:text-orange-400 border border-orange-500/20":r.includes("ðŸ”¥")||r.includes("So Close")?"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 border border-yellow-500/20":"bg-gray-500/10 text-gray-600 dark:text-gray-400 border border-gray-500/20":"",p=["BTC","BCH","BC2","DGB"],b=[7,30,90,180,365],j=(s==null?void 0:s.entries.filter(r=>!r.was_block_solve).length)||0,n=(s==null?void 0:s.entries.filter(r=>r.was_block_solve).length)||0;return u?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Hall of Pain"}),e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"text-muted-foreground",children:"Loading leaderboard..."})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[e.jsx(c,{className:"h-8 w-8 text-yellow-500"}),"Hall of Pain"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"The highest difficulty shares submitted"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:j}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"epic fails"}),n>0&&e.jsxs("div",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:["+",n," ",n===1?"win":"wins","!"]})]})]}),e.jsx(l,{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Time Range:"}),e.jsx("div",{className:"flex gap-2",children:b.map(r=>e.jsxs("button",{onClick:()=>m(r),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${a===r?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:[r,"d"]},r))})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsx("span",{className:"text-sm font-medium",children:"Coin:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>d(null),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${t===null?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:"All"}),p.map(r=>e.jsx("button",{onClick:()=>d(r),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors ${t===r?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:r},r))]})]})]})}),e.jsx("div",{className:"space-y-3",children:s==null?void 0:s.entries.map(r=>e.jsx(l,{className:`p-6 transition-all hover:shadow-md ${r.rank===1?"border-l-4 border-l-yellow-500":r.rank===2?"border-l-4 border-l-gray-400":r.rank===3?"border-l-4 border-l-orange-500":""}`,children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"flex items-center justify-center min-w-[60px]",children:e.jsx("div",{className:"text-3xl font-bold text-muted-foreground",children:r.rank<=3?g(r.rank):`#${r.rank}`})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:r.miner_name}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${h(r.miner_type)}`,children:r.miner_type.replace("_"," ")}),r.was_block_solve&&e.jsxs("span",{className:"flex items-center gap-1 text-xs px-2 py-0.5 rounded bg-green-500/10 text-green-600 dark:text-green-400 border border-green-500/20",children:[e.jsx(y,{className:"h-3 w-3"}),"Block!"]}),r.badge&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${f(r.badge)}`,children:r.badge})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.pool_name," â€¢ ",r.coin," â€¢ ",r.days_ago,"d ago"]})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Difficulty"}),e.jsx("div",{className:"text-lg font-semibold",children:r.difficulty_formatted})]}),r.percent_of_block!==null&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Of Block"}),e.jsxs("div",{className:"text-lg font-semibold text-orange-600 dark:text-orange-400",children:[r.percent_of_block.toFixed(1),"%"]})]}),r.hashrate!==null&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Hashrate"}),e.jsxs("div",{className:"text-lg font-semibold",children:[r.hashrate.toFixed(0)," ",r.hashrate_unit]})]})]}),r.miner_mode&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Mode: ",e.jsx("span",{className:"font-medium text-foreground uppercase",children:r.miner_mode})]})]})]})},r.id))}),(s==null?void 0:s.entries.length)===0&&e.jsxs(l,{className:"p-12 text-center",children:[e.jsx(c,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Epic Fails Yet"}),e.jsx("p",{className:"text-muted-foreground",children:"No high difficulty shares found for the selected time range and coin."})]})]})}export{w as Leaderboard};
